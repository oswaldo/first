# Feature Specification: Version Flag

**Feature Branch**: `010-version-flag`
**Created**: 2025-12-31
**Status**: Draft
**Input**: User description: "Implement the --version flag so in the next release we can properly check the installed version, which should print relevant information like tag, build timestamp or whatever common practice for this kind of feature and easily possible as we have buildinfo configured in @[../first/project.scala]"

## Vision Alignment

_This specification is guided by the principles and vision outlined in the [project constitution](/.specify/memory/constitution.md) and the [vision document](/first.md)._

---

## User Scenarios & Testing _(mandatory)_

### User Story 1 - Checking Installed Version (Priority: P1)

Users need to verify which version of the `first` tool is installed to report bugs, verify upgrades, or ensure compatibility.

**Why this priority**: Essential for troubleshooting and release verification.

**Independent Test**: Can be tested by running `first --version` and verifying the output against known build metadata.

**Acceptance Scenarios**:

1. **Given** the tool is installed, **When** the user runs `first --version`, **Then** the tool prints the version number, git commit hash, and build timestamp, and exits with status 0.
2. **Given** the tool is installed, **When** the user runs `first --version --help` (or mixes flags), **Then** the tool prioritizes the version flag behavior (or standard argument parsing rules apply). _Assumption: Standard `decline` behavior applies._

---

## Requirements _(mandatory)_

### Functional Requirements

- **FR-001**: The CLI MUST accept a `--version` flag.
- **FR-002**: When `--version` is present, the CLI MUST output the current application version.
- **FR-003**: The version output MUST include the semantic version tag (e.g., `v0.3.0`).
- **FR-004**: The version output MUST include the git commit hash.
- **FR-005**: The version output MUST include the build timestamp.
- **FR-006**: The CLI MUST exit successfully (code 0) after printing version information, without executing other commands.

### Assumptions

- Build information is available via the `BuildInfo` object generated by Scala CLI (as configured in `project.scala`).

## Success Criteria _(mandatory)_

### Measurable Outcomes

- **SC-001**: Running `first --version` outputs the correct version string (matching the build tag) in under 100ms.
- **SC-002**: The output enables users to uniquely identify the exact build (via commit hash/timestamp).
